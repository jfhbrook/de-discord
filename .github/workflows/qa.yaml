name: QA
on: push
jobs:
  qa:
    name: Run QA checks
    runs-on: ubuntu-latest
    steps:
      - name: Check out code
        uses: actions/checkout@v2
      - name: Update Conda environment
        uses: matthewrmshin/conda-action@v1.1
        with:
          args: conda env update
      - name: Install the package
        uses: matthewrmshin/conda-action@v1.1
        with:
          args: pip install .
      - name: Run linting
        uses: matthewrmshin/conda-action@v1.1
        with:
          args: de lint
      - name: Run tests
        uses: matthewrmshin/conda-action@v1.1
        with:
          args: de test
